<h4>{{greet_message}}</h4>

<form *ngIf="authenticated" [formGroup]="form" (submit)="submit()" class="d-flex" role="search">
    <input formControlName="to_username" class="form-control me-2" type="search" placeholder="Nickname">
    <button class="btn btn-outline-success" type="submit">Add friend</button>
</form>

<h6 *ngIf="friend_request_message">{{friend_request_message}}</h6>

<div *ngIf="authenticated" class="list-group w-auto">
  <h4>Friends</h4>
  <h6 *ngIf="no_friends">You have no friends</h6>
  <a *ngFor="let friend of friends" class="list-group-item list-group-item-action d-flex gap-3 py-3">
    <div class="d-flex gap-2 w-100 justify-content-between">
      <div>
        <h6 class="mb-0">{{friend}}</h6>
      </div>
    </div>
  </a>
</div>

<div *ngIf="authenticated" class="list-group w-auto">
  <h4>Friend requests</h4>
  <h6 *ngIf="no_friend_requests">You have no new friend requests</h6>
  <a *ngFor="let friend_request of friend_requests" class="list-group-item list-group-item-action d-flex gap-3 py-3">
    <div class="d-flex gap-2 w-100 justify-content-between">
      <div>
        <h6 class="mb-0">{{friend_request['username']}}</h6>
      </div>
      <button routerLink="/" type="button" class="btn btn-secondary btn-sm" (click)="accept(friend_request['id'])">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
          <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"></path>
        </svg>
      </button>
    </div>
  </a>
</div>

<h6 *ngIf="friend_request_accept_message">{{friend_request_accept_message}}</h6>